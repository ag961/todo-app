{"version":3,"sources":["context/settings/context.js","context/auth/loginContext.js","components/header/login.js","components/header/header.js","hooks/form.js","components/auth.js","components/todo/list.js","components/todo/form.js","components/changeSettings/switchComplete.js","components/changeSettings/selectItemsPerPage.js","components/changeSettings/changeSettings.js","components/todo/todo.js","app.js","index.js"],"names":["SettingsContext","React","createContext","SettingProvider","props","retrievedValues","JSON","parse","localStorage","getItem","displayCompleted","itemsPerPage","useState","setDisplayCompleted","setItemsPerPage","useEffect","values","setItem","stringify","state","Provider","value","children","LoginContext","LoginProvider","loggedIn","setLoggedIn","token","setToken","username","capabilities","user","setUser","logout","setLoginState","credentials","a","encodedCredentials","base64","encode","password","config","headers","authorization","axios","get","process","REACT_APP_SERVER","response","authenticatedUser","data","status","window","alert","console","log","cookie","save","qs","URLSearchParams","location","search","cookieToken","load","validateToken","login","can","capability","includes","loginContext","useContext","setValues","handleChange","event","target","name","condition","Button","color","variant","onClick","onSubmit","e","preventDefault","onChange","placeholder","placefolder","type","Header","useForm","callback","handleSubmit","difficulty","text","assignee","Auth","loginState","isLoggedIn","List","list","toggleComplete","deleteItem","context","n","startIndex","setStartIndex","listToDisplay","setListToDisplay","pagesArr","setPagesArray","currentPage","setCurrentPage","refreshDisplay","command","temp","i","length","push","visibleList","slice","turnPage","newStartIndex","className","map","item","size","id","disabled","complete","toString","Box","alignSelf","Stack","spacing","Pagination","sx","margin","count","page","Form","Paper","p","defaultValue","min","max","SwitchComplete","FormControlLabel","label","control","Switch","checked","inputProps","SelectItemsPerPage","changeItemsPerPage","Number","ButtonGroup","num","m","changeSettings","width","FormGroup","ToDo","setList","incomplete","setIncomplete","uuid","post","items","filter","delete","incompleteCount","document","title","sortedList","sort","b","createdAt","message","put","App","Main","rootElement","getElementById","ReactDOM","render"],"mappings":"giBAEaA,EAAkBC,IAAMC,gBAEtB,SAASC,EAAgBC,GAEtC,IAKIC,EAAwE,OAAtDC,KAAKC,MAAMC,aAAaC,QAAQ,kBALhC,CACpBC,kBAAkB,EAClBC,aAAc,GAKbL,KAAKC,MAAMC,aAAaC,QAAQ,kBAEnC,EAAgDG,mBAASP,EAAgBK,kBAAzE,mBAAOA,EAAP,KAAyBG,EAAzB,KACA,EAAwCD,mBAASP,EAAgBM,cAAgB,GAAjF,mBAAOA,EAAP,KAAqBG,EAArB,KAEAC,qBAAU,WACT,IAAIC,EAAS,CACXN,mBACAC,gBAEFH,aAAaS,QAAQ,gBAAiBX,KAAKY,UAAUF,OAGtD,IAAMG,EAAQ,CACZT,mBACAC,eACAE,sBACAC,mBAGF,OACE,cAACd,EAAgBoB,SAAjB,CAA0BC,MAAOF,EAAjC,SACGf,EAAMkB,W,2FC7BAC,EAAetB,IAAMC,gBAEnB,SAASsB,EAAcpB,GAEpC,MAAgCQ,oBAAS,GAAzC,mBAAOa,EAAP,KAAiBC,EAAjB,KACA,EAA0Bd,mBAAS,MAAnC,mBAAOe,EAAP,KAAcC,EAAd,KACA,EAAwBhB,mBAAS,CAC/BiB,SAAU,GACVF,MAAO,GACPG,aAAc,KAHhB,mBAAOC,EAAP,KAAaC,EAAb,KAMA,SAASC,IACPC,GAAc,EAAO,GAAI,MAXgB,4CAc3C,WAAqBC,GAArB,qBAAAC,EAAA,sEAEQC,EAAqBC,IAAOC,OAAP,UAAiBJ,EAAYN,SAA7B,YAAyCM,EAAYK,WACxEC,EAAS,CACbC,QAAS,CACPC,cAAc,SAAD,OAAWN,KALhC,SAQ2BO,IAAMC,IAAN,UAAaC,4IAAYC,iBAAzB,WAAoDN,GAR/E,OAQUO,EARV,OAUId,GAAc,EADRe,EAAoBD,EAASE,KACID,EAAkBtB,OAV7D,kDAY8B,MAAtB,KAAEqB,SAASG,QACblB,IACAmB,OAAOC,MAAM,wBAEbC,QAAQC,IAAI,KAAEP,UAhBpB,2DAd2C,kEAmC3C,WAA6BrB,GAA7B,mBAAAS,EAAA,sEAEUK,EAAS,CACbC,QAAS,CACPC,cAAc,UAAD,OAAYhB,KAJjC,SAO2BiB,IAAMC,IAAN,UAAaC,4IAAYC,iBAAzB,WAAoDN,GAP/E,OAOUO,EAPV,OASId,GAAc,EADRe,EAAoBD,EAASE,KACID,EAAkBtB,OAT7D,gDAWIM,IACAmB,OAAOC,MAAM,6BAZjB,yDAnC2C,wBAuD3C,SAASnB,EAAcT,EAAUM,EAAMJ,GACrC6B,IAAOC,KAAK,OAAQ9B,GACpBC,EAASD,GACTK,EAAQD,GACRL,EAAYD,GAGdV,qBAAU,WACR,IAAM2C,EAAK,IAAIC,gBAAgBP,OAAOQ,SAASC,QACzCC,EAAcN,IAAOO,KAAK,SAhES,oCAkEzCC,CADcN,EAAGb,IAAI,UAAYiB,GAAe,QAE/C,IAEH,IAAM3C,EAAQ,CACZM,WACAE,QACAsC,MAxEyC,4CAyEzChC,SACAiC,IAvBF,SAAaC,GAAa,IAAD,EACvB,cAAOpC,QAAP,IAAOA,GAAP,UAAOA,EAAMD,oBAAb,aAAO,EAAoBsC,SAASD,IAuBpCrC,aAAcC,EAAKD,cAGrB,OACE,cAACP,EAAaH,SAAd,CAAuBC,MAAOF,EAA9B,SACGf,EAAMkB,W,2CCjFE,SAAS2C,IAEtB,IAAMI,EAAeC,qBAAW/C,GAChC,EAA4BX,mBAAS,IAArC,mBAAOI,EAAP,KAAeuD,EAAf,KAOMC,EAAe,SAACC,GACpBF,GAAU,SAAAvD,GACR,OAAO,2BAAKA,GAAZ,kBAAqByD,EAAMC,OAAOC,KAAOF,EAAMC,OAAOrD,YAI1D,OACE,qCACE,cAAC,IAAD,CAAMuD,UAAWP,EAAa5C,SAA9B,SACE,cAACoD,EAAA,EAAD,CAAQC,MAAM,UAAUC,QAAQ,YAAYC,QAASX,EAAapC,OAAlE,uBAEF,cAAC,IAAD,CAAM2C,WAAYP,EAAa5C,SAA/B,SACE,uBAAMwD,SAjBS,SAACC,GAChBA,GAAGA,EAAEC,iBACTd,EAAaJ,MAAMjD,IAef,UACE,uBAAOoE,SAAUZ,EAAcG,KAAK,WAAWU,YAAY,aAC1D,IACD,uBAAOD,SAAUZ,EAAcG,KAAK,WAAWW,YAAY,aAC1D,IACD,cAACT,EAAA,EAAD,CAAQC,MAAM,UAAUC,QAAQ,YAAYQ,KAAK,SAAjD,4BC9BV,IAOeC,EAPA,kBACb,mCACE,wCACA,cAAC,EAAD,Q,mCCkBWC,EAvBC,SAACC,GAEf,MAA4B9E,mBAAS,IAArC,mBAAOI,EAAP,KAAeuD,EAAf,KAcA,MAAO,CACLC,aAPmB,SAACC,GACpBF,GAAU,SAAAvD,GACR,OAAO,2BAAKA,GAAZ,kBAAqByD,EAAMC,OAAOC,KAAOF,EAAMC,OAAOrD,YAMxDsE,aAdmB,SAAClB,GAChBA,GAAOA,EAAMU,iBACjBO,EAAS,2BAAI1E,GAAL,IAAa4E,WAAYnB,EAAMC,OAAOkB,WAAWvE,SACzDkD,GAAU,SAAAvD,GAAM,MAAK,CAAE6E,KAAM7E,EAAO6E,KAAMC,SAAU9E,EAAO8E,cAY3D9E,WCjBW,SAAS+E,EAAK3F,GAE3B,IAAI4F,EAAa1B,qBAAW/C,GAEtB0E,EAAaD,EAAWvE,SACxByC,EAAM8B,EAAW9B,IAAI9D,EAAM+D,YAEjC,OACE,cAAC,IAAD,CAAMS,UAAWqB,GAAc/B,EAA/B,SACG9D,EAAMkB,W,sCCJE,SAAS4E,EAAT,GAAqD,IAArCC,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,eAAgBC,EAAc,EAAdA,WAE7CC,EAAUhC,qBAAWtE,GACrB8B,EAAewC,qBAAW/C,GAAcO,aACxCyE,EAAID,EAAQ3F,aAClB,EAAoCC,mBAAS,GAA7C,mBAAO4F,EAAP,KAAmBC,EAAnB,KACA,EAA0C7F,mBAAS,IAAnD,mBAAO8F,EAAP,KAAsBC,EAAtB,KACA,EAAkC/F,mBAAS,IAA3C,mBAAOgG,EAAP,KAAiBC,EAAjB,KACA,EAAsCjG,mBAAS,GAA/C,mBAAOkG,EAAP,KAAoBC,EAApB,KAWA,SAASC,EAAeC,GAEtB,IADA,IAAIC,EAAO,GACFC,EAAI,EAAGA,EAAIhB,EAAKiB,OAASb,EAAGY,IACnCD,EAAKG,KAAKF,EAAI,GAEhBN,EAAcK,GAEd,IAAII,EAAcnB,EAAKoB,MAAMf,EAAYA,EAAaD,GAC3B,IAAvBe,EAAYF,QAAgBjB,EAAKiB,QACnCI,EAAShB,EAAaD,GAER,cAAZU,GAAyBO,EAAS,GACtCb,EAAiBW,GAGnB,SAASE,EAASC,GAChBhB,EAAcgB,GACdV,EAAeU,EAAgBlB,EAAI,GAGrC,OA7BAxF,qBAAU,WACRiG,EAAe,UACd,CAACb,EAAMK,IAEVzF,qBAAU,WACR0F,EAAc,GACdO,EAAe,eACd,CAACT,IAuBF,qCACE,qBAAKmB,UAAU,UAAf,SACGhB,EAAciB,KAAI,SAACC,EAAMT,GACxB,OAAO,gCACL,sBAAKO,UAAU,cAAf,UACE,6BAAKE,EAAK/B,OACV,cAACE,EAAD,CAAM5B,WAAW,SAAjB,SACE,cAACU,EAAA,EAAD,CAAQC,MAAM,QAAQ+C,KAAK,QAAQ7C,QAAS,kBAAMqB,EAAWuB,EAAKE,KAAlE,oBAGJ,8CAAiBF,EAAK9B,YACtB,4BAAG,iDAAoB8B,EAAKhC,gBAC1B,eAACf,EAAA,EAAD,CAAQkD,UAAUjG,EAAasC,SAAS,UAA0BW,QAAQ,WAAWC,QAAS,kBAAMoB,EAAewB,EAAKE,KAAxH,uBAAwIF,EAAKI,SAASC,cACxJ,yBAVed,QAqBrB,cAACe,EAAA,EAAD,CAAKC,UAAU,SAAf,SACmB,IAAhBhC,EAAKiB,OAAe,GAAK,cAACgB,EAAA,EAAD,CAAOC,QAAS,EAAhB,SACxB,cAACC,EAAA,EAAD,CAAYC,GAAI,CAAEC,OAAQ,QAAUC,MAAO7B,EAASQ,OAAQsB,KAAM5B,EAAa1B,SAAU,SAACF,EAAG7D,GAAYmG,GAAUnG,EAAQ,GAAKkF,a,OCvE3H,SAASoC,EAAT,GAA+C,IAA/BhD,EAA8B,EAA9BA,aAAcnB,EAAgB,EAAhBA,aAE3C,OACE,cAACoE,EAAA,EAAD,UACE,cAACV,EAAA,EAAD,CAAKW,EAAG,EAAR,SAEE,uBAAMnB,UAAU,aAAazC,SAAUU,EAAvC,UAEE,gDACA,8BACE,kCACE,2CACA,uBAAOP,SAAUZ,EAAcG,KAAK,OAAOY,KAAK,OAAOF,YAAY,sBAIvE,8BACE,kCACE,4CACA,uBAAOD,SAAUZ,EAAcG,KAAK,WAAWY,KAAK,OAAOF,YAAY,uBAI3E,8BACE,kCACE,2CACA,uBAAOD,SAAUZ,EAAcsE,aAAc,EAAGvD,KAAK,QAAQwD,IAAK,EAAGC,IAAK,EAAGrE,KAAK,oBAItF,8BACE,cAACE,EAAA,EAAD,CAAQU,KAAK,SAASR,QAAQ,WAA9B,+B,sBC3BG,SAASkE,IAEtB,IAAM3C,EAAUhC,qBAAWtE,GAM3B,OACE,cAACkJ,EAAA,EAAD,CAAkBC,MAAM,iBAAiBC,QACvC,cAACC,EAAA,EAAD,CACEC,QAAShD,EAAQ5F,iBACjB0E,SARN,WACEkB,EAAQzF,qBAAoByF,EAAQ5F,mBAQhC6I,WAAY,CAAE,aAAc,kB,aChBrB,SAASC,IAEtB,IAAMlD,EAAUhC,qBAAWtE,GAE3B,SAASyJ,EAAmBhF,GAC1B6B,EAAQxF,gBAAgB4I,OAAOjF,EAAMC,OAAOrD,QAK9C,OACE,cAAC6H,EAAA,EAAD,CAAkBC,MAAM,iBAAiBC,QACvC,cAACO,EAAA,EAAD,CAAa7E,MAAM,UAAU,aAAW,gCAAxC,SAJe,CAAC,EAAG,EAAG,EAAG,IAKX6C,KAAK,SAACiC,EAAKzC,GAAN,OACf,cAACe,EAAA,EAAD,CAAa2B,EAAG,EAAhB,SACE,cAAChF,EAAA,EAAD,CAAQE,QAAS6E,GAAOtD,EAAQ3F,aAAe,WAAa,YAAaqE,QAASyE,EAAoBpI,MAAOuI,EAA7G,SAAmHA,KAD3GzC,U,aCZL,SAAS2C,IAGtB,OACE,cAAC5B,EAAA,EAAD,CAAKK,GAAI,CAAEwB,MAAO,eAAlB,SACE,cAACnB,EAAA,EAAD,UACE,cAACV,EAAA,EAAD,CAAKW,EAAG,EAAR,SACE,eAACmB,EAAA,EAAD,WACE,cAACf,EAAD,IACA,cAACO,EAAD,aCHZ,IAiGeS,EAjGF,WACX,IAAM3D,EAAUhC,qBAAWtE,GAErB2B,EADc2C,qBAAW/C,GACLI,MAE1B,EAAwBf,mBAAS,IAAjC,mBAAOuF,EAAP,KAAa+D,EAAb,KACA,EAAoCtJ,mBAAS,IAA7C,mBAAOuJ,EAAP,KAAmBC,EAAnB,KACA,EAAuC3E,GAPtB,8CAOTjB,EAAR,EAAQA,aAAcmB,EAAtB,EAAsBA,aAPL,4CASjB,WAAuBiC,GAAvB,eAAAxF,EAAA,6DACEwF,EAAKE,GAAKuC,cACVzC,EAAKI,UAAW,EAChBkC,EAAQ,GAAD,mBAAK/D,GAAL,CAAWyB,KACZnF,EAAS,CACbC,QAAS,CAAEC,cAAc,UAAD,OAAYhB,KALxC,SAOQiB,IAAM0H,KAAN,UAAcxH,4IAAYC,iBAA1B,SAAmD6E,EAAMnF,GAPjE,4CATiB,kEAmBjB,WAA0BqF,GAA1B,iBAAA1F,EAAA,6DACQmI,EAAQpE,EAAKqE,QAAO,SAAA5C,GAAI,OAAIA,EAAKE,KAAOA,KAC9CoC,EAAQK,GACF9H,EAAS,CACbC,QAAS,CAAEC,cAAc,UAAD,OAAYhB,KAJxC,SAMQiB,IAAM6H,OAAN,UAAgB3H,4IAAYC,iBAA5B,iBAAqD+E,GAAMrF,GANnE,4CAnBiB,sBA2EjB,OAhCA1B,qBAAU,WACR,IAAI2J,EAAkBvE,EAAKqE,QAAO,SAAA5C,GAAI,OAAKA,EAAKI,YAAUZ,OAC1DgD,EAAcM,KACb,CAACvE,IAEJpF,qBAAU,WACR4J,SAASC,MAAT,sBAAgCT,KAC/B,CAACA,IAEJpJ,oBAAS,sBAAC,gCAAAqB,EAAA,0DACJT,EADI,iCAGEc,EAAS,CACbC,QAAS,CAAEC,cAAc,UAAD,OAAYhB,KAJlC,SAMiBiB,IAAMC,IAAN,UAAaC,4IAAYC,iBAAzB,SAAkDN,GANnE,OAMAO,EANA,OAOA6H,EAAa7H,EAASE,KAAK4H,MAAK,SAAC1I,EAAG2I,GACtC,OAAI3I,EAAE4I,UAAYD,EAAEC,WACV,EAEN5I,EAAE4I,UAAYD,EAAEC,UACX,EAEF,KAETd,EAAQW,GAhBJ,kDAkBJvH,QAAQC,IAAI,KAAE0H,SAlBV,0DAqBP,IAGD,sBAAKvD,UAAU,WAAf,UACE,qBAAIA,UAAU,eAAd,yBAA0CyC,EAA1C,oBACA,sBAAKzC,UAAU,WAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,cAAC,EAAD,IACA,cAAC3B,EAAD,CAAM5B,WAAW,SAAjB,SACE,cAACwE,EAAD,CAAMhD,aAAcA,EAAcnB,aAAcA,SAGpD,qBAAKkD,UAAU,UAAf,SACE,cAACkB,EAAA,EAAD,UACE,cAACV,EAAA,EAAD,CAAKW,EAAG,EAAR,SACE,cAAC3C,EAAD,CAAMC,KAAMG,EAAQ5F,iBAAmByF,EAAOA,EAAKqE,QAAO,SAAA5C,GAAI,OAAKA,EAAKI,YAAW5B,eA5D/F,SAAwB0B,GAEtB,IAAMyC,EAAQpE,EAAKwB,KAAI,SAAAC,GACjBA,EAAKE,KAAOA,IACdF,EAAKI,UAAYJ,EAAKI,UAExB,IAAMvF,EAAS,CACbC,QAAS,CAAEC,cAAc,UAAD,OAAYhB,KAGtC,OADAiB,IAAMsI,IAAN,UAAapI,4IAAYC,iBAAzB,SAAkD6E,EAAMnF,GACjDmF,KAETsC,EAAQK,IAgDqHlE,WAxF9G,2DCNJ,SAAS8E,IAEtB,OACE,mCACE,cAAC,EAAD,UACE,eAAC3J,EAAD,WACE,cAAC,EAAD,IACA,cAACuE,EAAD,CAAM5B,WAAW,OAAjB,SACE,cAAC,EAAD,aCVZ,SAASiH,IACP,OACE,cAACD,EAAD,IAIJ,IAAME,EAAcV,SAASW,eAAe,QAC5CC,IAASC,OAAO,cAACJ,EAAD,IAAUC,K","file":"static/js/main.55da8c67.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport const SettingsContext = React.createContext();\n\nexport default function SettingProvider(props) {\n\n  let defaultSettings = {\n    displayCompleted: true,\n    itemsPerPage: 3\n  }\n\n  let retrievedValues = JSON.parse(localStorage.getItem('todo-settings')) === null\n   ? defaultSettings\n   : JSON.parse(localStorage.getItem('todo-settings'))\n\n  const [displayCompleted, setDisplayCompleted] = useState(retrievedValues.displayCompleted);\n  const [itemsPerPage, setItemsPerPage] = useState(retrievedValues.itemsPerPage || 3);\n\n  useEffect(()=>{\n   let values = {\n     displayCompleted,\n     itemsPerPage\n   }\n   localStorage.setItem('todo-settings', JSON.stringify(values))\n  })\n \n  const state = {\n    displayCompleted,    \n    itemsPerPage,\n    setDisplayCompleted,\n    setItemsPerPage\n  }\n\n  return (\n    <SettingsContext.Provider value={state}>\n      {props.children}\n    </SettingsContext.Provider>\n  )\n}","import React, { useState, useEffect } from 'react';\nimport jwt from 'jsonwebtoken';\nimport cookie from 'react-cookies';\nimport axios from 'axios';\nimport base64 from 'base-64';\n\nexport const LoginContext = React.createContext();\n\nexport default function LoginProvider(props) {\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [token, setToken] = useState(null);\n  const [user, setUser] = useState({\n    username: '',\n    token: '',\n    capabilities: []\n  });\n\n  function logout() {\n    setLoginState(false, {}, null)\n  }\n\n  async function login(credentials) {\n    try {\n      let encodedCredentials = base64.encode(`${credentials.username}:${credentials.password}`)\n      const config = {\n        headers: {\n          authorization: `Basic ${encodedCredentials}`\n        }\n      }\n      const response = await axios.get(`${process.env.REACT_APP_SERVER}/signin`, config);\n      const authenticatedUser = response.data;\n      setLoginState(true, authenticatedUser, authenticatedUser.token)\n    } catch (e) {\n      if (e.response.status === 403) {\n        logout();                \n        window.alert('Invalid Credentials');\n      } else {\n        console.log(e.response);\n      }\n    }\n  }\n\n  async function validateToken(token) {\n    try {\n      const config = {\n        headers: {\n          authorization: `Bearer ${token}`\n        }\n      }\n      const response = await axios.get(`${process.env.REACT_APP_SERVER}/verify`, config);\n      const authenticatedUser = response.data;\n      setLoginState(true, authenticatedUser, authenticatedUser.token)\n    } catch (e) {\n      logout();\n      window.alert('token verification failed');\n    }\n  }\n\n  function can(capability) {\n    return user?.capabilities?.includes(capability);\n  }\n\n  function setLoginState(loggedIn, user, token) {\n    cookie.save('auth', token)\n    setToken(token);\n    setUser(user);\n    setLoggedIn(loggedIn);\n  }\n\n  useEffect(() => {\n    const qs = new URLSearchParams(window.location.search);\n    const cookieToken = cookie.load('auth');\n    const token = qs.get('token') || cookieToken || null;\n    validateToken(token)\n  }, [])\n\n  const state = {\n    loggedIn,\n    token,\n    login,\n    logout,\n    can,\n    capabilities: user.capabilities\n  }\n\n  return (\n    <LoginContext.Provider value={state}>\n      {props.children}\n    </LoginContext.Provider>\n  )\n}","import React, { useState, useContext } from 'react';\nimport { Button, Box } from '@mui/material/';\nimport { When } from 'react-if';\nimport { LoginContext } from '../../context/auth/loginContext';\n\n\n\nexport default function login() {\n\n  const loginContext = useContext(LoginContext);\n  const [values, setValues] = useState({});\n\n  const handleSubmit = (e) => {\n    if (e) e.preventDefault();\n    loginContext.login(values)\n  }\n\n  const handleChange = (event) => {\n    setValues(values => {\n      return { ...values, [event.target.name]: event.target.value }\n    });\n  }\n\n  return (\n    <>\n      <When condition={loginContext.loggedIn}>\n        <Button color='success' variant=\"contained\" onClick={loginContext.logout}>Log Out</Button>\n      </When>\n      <When condition={!loginContext.loggedIn}>\n        <form onSubmit={handleSubmit}>\n          <input onChange={handleChange} name='username' placeholder='username'></input>\n          {' '}\n          <input onChange={handleChange} name='password' placefolder='password'></input>\n          {' '}\n          <Button color='success' variant=\"contained\" type='submit'>LOG IN</Button>\n        </form>\n      </When>\n    </>\n  )\n}","import React from \"react\";\nimport './header.scss';\nimport Login from './login.js';\n\nconst Header = () => (\n  <header>\n    <h1>Header</h1>\n    <Login />\n  </header>\n);\n\nexport default Header;\n","import { useState } from 'react';\n\nconst useForm = (callback) => {\n\n  const [values, setValues] = useState({});\n\n  const handleSubmit = (event) => {\n    if (event) event.preventDefault();\n    callback({...values, difficulty: event.target.difficulty.value});\n    setValues(values => ({ text: values.text, assignee: values.assignee}));\n  };\n\n  const handleChange = (event) => {\n    setValues(values => {\n      return { ...values, [event.target.name]: event.target.value }\n    });\n  };\n\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n  };\n};\n\nexport default useForm;","import React, { useContext } from 'react';\nimport { When } from 'react-if';\nimport { LoginContext } from '../context/auth/loginContext';\n\nexport default function Auth(props) {\n\n  let loginState = useContext(LoginContext);\n\n  const isLoggedIn = loginState.loggedIn;\n  const can = loginState.can(props.capability)\n\n  return (\n    <When condition={isLoggedIn && can}>\n      {props.children}\n    </When>\n  )\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport { Button, Box } from '@mui/material/';\nimport { SettingsContext } from '../../context/settings/context';\nimport { LoginContext } from '../../context/auth/loginContext';\nimport Pagination from '@mui/material/Pagination';\nimport Stack from '@mui/material/Stack';\nimport Auth from '../auth';\nimport './list.scss';\n\nexport default function List({ list, toggleComplete, deleteItem }) {\n\n  const context = useContext(SettingsContext);\n  const capabilities = useContext(LoginContext).capabilities;\n  const n = context.itemsPerPage;\n  const [startIndex, setStartIndex] = useState(0);\n  const [listToDisplay, setListToDisplay] = useState([]);\n  const [pagesArr, setPagesArray] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  useEffect(() => {\n    refreshDisplay('stay')\n  }, [list, startIndex])\n\n  useEffect(() => {\n    setStartIndex(0);\n    refreshDisplay('startover');\n  }, [n])\n\n  function refreshDisplay(command) {\n    let temp = [];\n    for (let i = 0; i < list.length / n; i++) {\n      temp.push(i + 1);\n    }\n    setPagesArray(temp);\n\n    let visibleList = list.slice(startIndex, startIndex + n);\n    if (visibleList.length === 0 && list.length) {\n      turnPage(startIndex - n)\n    }\n    if (command === 'startover') turnPage(0)\n    setListToDisplay(visibleList);\n  }\n\n  function turnPage(newStartIndex) {\n    setStartIndex(newStartIndex)\n    setCurrentPage(newStartIndex / n + 1)\n  }\n\n  return (\n    <>\n      <div className='results' >\n        {listToDisplay.map((item, i) => {\n          return <div key={i}>\n            <div className='item-delete'>\n              <h3>{item.text}</h3>\n              <Auth capability='delete'>\n                <Button color=\"error\" size=\"small\" onClick={() => deleteItem(item.id)}>X</Button>\n              </Auth>\n            </div>\n            <p>Assigned to: {item.assignee}</p>\n            <p><small>Difficulty: {item.difficulty}</small></p>           \n              <Button disabled={capabilities.includes('update') ? false : true} variant=\"outlined\" onClick={() => toggleComplete(item.id)}>Complete: {item.complete.toString()}</Button>  \n            <hr />\n          </div>\n        })}\n      </div>\n      {/* {startIndex > 0 ? <button onClick={() => { turnPage(startIndex - n) }}>Previous</button> : ''}\n      <ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\n        {pagesArr.map(((num, i) =>\n          <Button key={i} value={num} onClick={() => { turnPage(i * n) }}>{num}</Button>\n        ))}\n      </ButtonGroup>\n      {list.length > (startIndex + n) ? <button onClick={() => { turnPage(startIndex + n) }}>Next</button> : ''} */}\n      <Box alignSelf='center'>\n        {list.length === 0 ? '' : <Stack spacing={2}>\n          <Pagination sx={{ margin: 'auto' }} count={pagesArr.length} page={currentPage} onChange={(e, value) => { turnPage((value - 1) * n) }} />\n        </Stack>}\n      </Box>\n    </>\n  )\n}","import React from 'react';\nimport './form.scss';\nimport { Paper, Box, Button } from '@mui/material';\n\nexport default function Form({ handleSubmit, handleChange }) {\n\n  return (\n    <Paper>\n      <Box p={2} >\n\n        <form className='input-form' onSubmit={handleSubmit}>\n\n          <h2>Add To Do Item</h2>\n          <div>\n            <label>\n              <p>To Do Item</p>\n              <input onChange={handleChange} name=\"text\" type=\"text\" placeholder=\"Item Details\" />\n            </label>\n          </div>\n\n          <div>\n            <label>\n              <p>Assigned To</p>\n              <input onChange={handleChange} name=\"assignee\" type=\"text\" placeholder=\"Assignee Name\" />\n            </label>\n          </div>\n\n          <div>\n            <label>\n              <p>Difficulty</p>\n              <input onChange={handleChange} defaultValue={3} type=\"range\" min={1} max={5} name=\"difficulty\" />\n            </label>\n          </div>\n\n          <div>\n            <Button type=\"submit\" variant=\"outlined\">Add Item</Button>\n          </div>\n        </form>\n      </Box>\n    </Paper>\n  )\n}","import * as React from 'react';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Switch from '@mui/material/Switch';\nimport { useContext } from 'react';\nimport { SettingsContext } from '../../context/settings/context';\n\n\nexport default function SwitchComplete() {\n\n  const context = useContext(SettingsContext);\n\n  function changeCompleted() {\n    context.setDisplayCompleted(context.displayCompleted ? false : true)\n  }\n\n  return (\n    <FormControlLabel label=\"Show Completed\" control={\n      <Switch\n        checked={context.displayCompleted}\n        onChange={changeCompleted}\n        inputProps={{ 'aria-label': 'controlled' }}\n      />}\n    />\n  );\n}","import React, { useContext } from 'react';\nimport Box from '@mui/material/Box';\nimport { ButtonGroup, Button, FormControlLabel } from '@mui/material/';\nimport { SettingsContext } from '../../context/settings/context';\n\nexport default function SelectItemsPerPage() {\n\n  const context = useContext(SettingsContext);\n\n  function changeItemsPerPage(event) {\n    context.setItemsPerPage(Number(event.target.value))\n  }\n\n  const buttonsArr = [3, 5, 7, 10]\n\n  return (\n    <FormControlLabel label=\"Items Per Page\" control={\n      <ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\n        {buttonsArr.map(((num, i) =>\n          <Box key={i} m={1}>\n            <Button variant={num == context.itemsPerPage ? \"outlined\" : \"contained\"} onClick={changeItemsPerPage} value={num}>{num}\n            </Button>\n          </Box>\n        ))}\n      </ButtonGroup>} />\n  );\n}","import React, { useContext } from 'react';\nimport SwitchComplete from './switchComplete';\nimport SelectItemsPerPage from './selectItemsPerPage';\nimport Box from '@mui/material/Box';\nimport { FormGroup, Paper } from '@mui/material';\n\n\nexport default function changeSettings() {\n\n\n  return (\n    <Box sx={{ width: 'fit-content' }}>\n      <Paper>\n        <Box p={2} >\n          <FormGroup >\n            <SwitchComplete />\n            <SelectItemsPerPage />\n          </FormGroup>\n        </Box>\n      </Paper>\n    </Box>\n  );\n}","import React, { useEffect, useState, useContext } from 'react';\nimport './todo.scss';\nimport { Paper, Box } from '@mui/material/';\nimport useForm from '../../hooks/form.js';\nimport Auth from '../auth';\nimport { v4 as uuid } from 'uuid';\nimport List from './list';\nimport Form from './form';\nimport ChangeSettings from '../changeSettings/changeSettings';\nimport { SettingsContext } from '../../context/settings/context';\nimport { LoginContext } from '../../context/auth/loginContext';\nimport axios from 'axios';\n\nconst ToDo = () => {\n  const context = useContext(SettingsContext);\n  const authContext = useContext(LoginContext)\n  const token = authContext.token;\n\n  const [list, setList] = useState([]);\n  const [incomplete, setIncomplete] = useState([]);\n  const { handleChange, handleSubmit } = useForm(addItem);\n\n  async function addItem(item) {\n    item.id = uuid();\n    item.complete = false;\n    setList([...list, item]);\n    const config = {\n      headers: { authorization: `Bearer ${token}` }\n    };\n    await axios.post(`${process.env.REACT_APP_SERVER}/todo`, item, config)\n  }\n\n  async function deleteItem(id) {\n    const items = list.filter(item => item.id !== id);\n    setList(items);\n    const config = {\n      headers: { authorization: `Bearer ${token}` }\n    };\n    await axios.delete(`${process.env.REACT_APP_SERVER}/todo/${id}`, config)\n  }\n\n  function toggleComplete(id) {\n\n    const items = list.map(item => {\n      if (item.id === id) {\n        item.complete = !item.complete;\n      }\n      const config = {\n        headers: { authorization: `Bearer ${token}` }\n      };\n      axios.put(`${process.env.REACT_APP_SERVER}/todo`, item, config)\n      return item;\n    });\n    setList(items);\n  }\n\n  useEffect(() => {\n    let incompleteCount = list.filter(item => !item.complete).length;\n    setIncomplete(incompleteCount);\n  }, [list]);\n\n  useEffect(() => {\n    document.title = `To Do List: ${incomplete}`;\n  }, [incomplete])\n\n  useEffect(async () => {\n    if (token) {\n      try {\n        const config = {\n          headers: { authorization: `Bearer ${token}` }\n        };\n        let response = await axios.get(`${process.env.REACT_APP_SERVER}/todo`, config);\n        let sortedList = response.data.sort((a, b)=> {\n          if (a.createdAt < b.createdAt) {\n            return -1;\n          }\n          if (a.createdAt > b.createdAt) {\n            return 1;\n          }\n          return 0;\n        })\n        setList(sortedList);\n      } catch (e) {\n        console.log(e.message)\n      }\n    }\n  }, [])\n\n  return (\n    <div className='main-box'>\n      <h1 className='list-heading'>To Do List: {incomplete} items pending</h1>\n      <div className='todo-box'>\n        <div className='input-settings'>\n          <ChangeSettings />\n          <Auth capability='create'>\n            <Form handleSubmit={handleSubmit} handleChange={handleChange} />\n          </Auth>\n        </div>\n        <div className='my-list'>\n          <Paper>\n            <Box p={2}>\n              <List list={context.displayCompleted ? list : list.filter(item => !item.complete)} toggleComplete={toggleComplete} deleteItem={deleteItem} />\n            </Box>\n          </Paper>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ToDo;","import React from 'react';\nimport SettingsProvider from './context/settings/context';\nimport LoginProvider from './context/auth/loginContext';\nimport Header from './components/header/header';\nimport ToDo from './components/todo/todo.js';\nimport Auth from './components/auth';\n\nexport default function App() {\n\n  return (\n    <>\n      <SettingsProvider>\n        <LoginProvider>\n          <Header />\n          <Auth capability='read'>\n            <ToDo />\n          </Auth>\n        </LoginProvider>\n      </SettingsProvider>\n    </>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nfunction Main(){\n  return (\n    <App />\n  )\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);"],"sourceRoot":""}